<% if (book) { %>
    <% const { chapters, articles } = book; %>
    <% chapters && chapters.length && chapters.forEach((chapter, index) => { %>
        <li class="book-chapter pt-5 <%= `book-chapter-${chapter.level}` %>">
            <ul class="heti--serif relative py-3 text-2xl">
                <li>
                    <span class="mr-4 font-bold">第 <%= index + 1 %> 章</span>
                    <span><%= chapter.title %></span>
                </li>
            </ul>
            <ul class="book-chapter-article">
                <%- partial('chapter', {
                    book: {
                        id: book.id,
                        chapters: chapter.chapters,
                        articles: chapter.articles
                    }
                }) %>
            </ul>
        </li>
    <% }); %>
    <% articles && articles.length && articles.forEach((article) => { %>
        <% const curIndex = increase_step_counter(book.id).value() %>
        <li class="heti--serif book-article ml-24 text-base my-2.5 font-light">
            <a href="<%= url_for(article.path) %>" title="<%= article.title %>" class="flex justify-between">
                <span><%= article.title %></span>
                <span class="whitespace-nowrap">
                    <span class="px-2">/</span>
                    <%= `${curIndex}`.padStart(3, '0') %>
                </span>
            </a>
        </li>
    <% }); %>
<% } %>
